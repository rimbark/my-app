"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[863],{9863:function(s,t,e){e.r(t),e.d(t,{default:function(){return _}});var i=e(1413),r=e(5671),u=e(3144),n=e(136),a=e(516),d=e(2791),o=e(1310),c=e(9439),p=e(184);var l=function(s){var t=(0,d.useState)(!1),e=(0,c.Z)(t,2),i=e[0],r=e[1],u=(0,d.useState)(s.status),n=(0,c.Z)(u,2),a=n[0],o=n[1];return(0,d.useEffect)((function(){o(s.status)}),[s.status]),(0,p.jsxs)("div",{children:[!i&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){r(!0)},children:a||"-----"})}),i&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(s){o(s.target.value)},onBlur:function(){r(!1),s.updateStatus(a)},autoFocus:!0,value:a})})]})};var h=function(s){var t=s.profile,e=s.status,i=s.updateStatus;return t?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:"https://i.ytimg.com/vi/ah0TSxFAqPY/maxresdefault.jpg",alt:""})}),(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:null===t.photos.large?"https://avatars.mds.yandex.net/i?id=7406b5bf2010aace1c9c3d0381c45881f703f689-6250997-images-thumbs&n=13":t.photos.large})}),(0,p.jsx)(l,{status:e,updateStatus:i})]}):(0,p.jsx)(o.Z,{})},f=e(6508),j="MyPosts_NewPost__2zgn2",x="Post_item__jQLhL",v=function(s){var t=s.message,e=s.likes;return(0,p.jsxs)("div",{className:x,children:[(0,p.jsx)("img",{src:"https://pic.rutubelist.ru/user/66/37/66370b638af9d17b6d6a359d2e7c29d5.jpg",alt:""}),t,(0,p.jsx)("div",{children:(0,p.jsxs)("span",{children:["Likes \u2192 ",e]})})]})},m=e(9195);function g(s){var t=(0,m.cI)(),e=t.register,r=t.handleSubmit,u=t.reset,n=t.formState.isValid;return(0,p.jsx)("div",{children:(0,p.jsx)("form",{onSubmit:r((function(t){console.log(t),s.addPost(t),u()})),children:(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("input",(0,i.Z)({},e("newPostBody",{minLength:1,required:"Empty field"})))}),(0,p.jsx)("div",{children:(0,p.jsx)("input",{type:"submit",disabled:!n})})]})})})}var S=function(s){var t=s.posts,e=s.addPost,i=t.map((function(s){return(0,p.jsx)(v,{message:s.post,likes:s.likesCount},s.id)}));return(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:"My post"}),(0,p.jsx)("div",{children:(0,p.jsx)(g,{addPost:e})}),(0,p.jsx)("div",{className:""}),(0,p.jsx)("div",{className:""}),(0,p.jsx)("div",{className:j,children:(0,p.jsx)("h5",{children:"New posts"})}),(0,p.jsx)("div",{children:i})]})},P=e(3531),b=(0,P.$j)((function(s){return{posts:s.profileReducer.posts,newPost:s.profileReducer.newPost}}),{addPost:f.q2,updatePost:f.CP})(S),y=function(s){var t=s.profile,e=s.status,i=s.updateStatus;return(0,p.jsxs)("div",{children:[(0,p.jsx)(h,{profile:t,status:e,updateStatus:i}),(0,p.jsx)(b,{})]})},k=e(7781),Z=e(5628),C=function(s){(0,n.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,u.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.router.params.userId;s||(s=this.props.authUserId)||this.props.router.navigate("/auth/"),this.props.getProfile(s),this.props.getStatus(s)}},{key:"render",value:function(){return(0,p.jsx)("div",{children:(0,p.jsx)(y,(0,i.Z)((0,i.Z)({},this.props),{},{status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),e}(d.Component),_=(0,k.qC)((0,P.$j)((function(s){return{profile:s.profileReducer.profile,status:s.profileReducer.status,authUserId:s.authReducer.id,isAuth:s.authReducer.isAuth}}),{getProfile:f.Ai,getStatus:f.lR,updateStatus:f.Nf}),Z.E)(C)}}]);
//# sourceMappingURL=863.d0a249d9.chunk.js.map